(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{7810:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(5531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a.Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},5750:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(5531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a.Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},2369:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(5531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a.Z)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},5664:function(e,t,s){Promise.resolve().then(s.bind(s,2614))},2614:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return D}});var a=s(7437),r=s(2265),l=s(960),i=s(4033),n=s(4045),o=s(966),d=s(1069),c=s(8268),u=s(5531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let m=(0,u.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),h=(0,u.Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),x=(0,u.Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);function p(e){let{traits:t=[]}=e,[s,i]=(0,r.useState)(t),[n,o]=(0,r.useState)(""),[u,p]=(0,r.useState)("all");(0,r.useEffect)(()=>{let e=t;n&&(e=e.filter(e=>e.word.toLowerCase().includes(n.toLowerCase()))),"all"!==u&&(e=e.filter(e=>e.category===u)),i(e)},[t,n,u]);let g=async e=>{console.log("Upvoting trait:",e)},f=s.map((e,t)=>{let s=137.5*t*(Math.PI/180),a=50+15*t;return{...e,x:Math.cos(s)*a,y:Math.sin(s)*a}});return 0===t.length?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[(0,a.jsx)(l.E.div,{initial:{scale:0},animate:{scale:1},className:"w-24 h-24 bg-gradient-to-r from-purple-500/20 to-pink-500/20 rounded-full flex items-center justify-center mb-6 border-2 border-dashed border-purple-500/30",children:(0,a.jsx)(m,{className:"w-12 h-12 text-purple-400"})}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"No traits yet"}),(0,a.jsx)("p",{className:"text-gray-400 mb-6 max-w-md",children:"Your trait cloud is empty. Ask your friends to endorse you with traits that represent who you are!"}),(0,a.jsxs)(d.j,{children:[(0,a.jsx)(m,{className:"w-4 h-4"}),"Invite Friends"]})]}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[(0,a.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,a.jsx)(h,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,a.jsx)("input",{type:"text",value:n,onChange:e=>o(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-700/50 border border-gray-600 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"Search traits..."})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(x,{className:"w-5 h-5 text-gray-400"}),(0,a.jsx)("select",{value:u,onChange:e=>p(e.target.value),className:"bg-gray-700/50 border border-gray-600 rounded-xl px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",children:["all","mind","heart","social","general"].map(e=>(0,a.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]})]}),(0,a.jsxs)("div",{className:"relative min-h-[400px] bg-gray-700/20 rounded-2xl overflow-hidden",children:[(0,a.jsxs)("div",{className:"absolute inset-0 flex items-center justify-center",children:[(0,a.jsx)(l.E.div,{animate:{rotate:360,scale:[1,1.05,1]},transition:{rotate:{duration:30,repeat:1/0,ease:"linear"},scale:{duration:3,repeat:1/0}},className:"w-16 h-16 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center shadow-2xl shadow-purple-500/50 z-10",children:(0,a.jsx)("span",{className:"text-white font-bold",children:"You"})}),f.map((e,t)=>(0,a.jsx)(l.E.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1,x:[e.x,e.x+5,e.x],y:[e.y,e.y-5,e.y]},transition:{delay:.1*t,x:{duration:4,repeat:1/0,ease:"easeInOut"},y:{duration:4,repeat:1/0,ease:"easeInOut",delay:2}},className:"absolute",style:{left:"50%",top:"50%",transform:"translate(".concat(e.x,"px, ").concat(e.y,"px)")},children:(0,a.jsx)(c.p,{trait:e,onUpvote:g,onClick:()=>console.log("Trait clicked:",e)})},e.id)),[...Array(15)].map((e,t)=>(0,a.jsx)(l.E.div,{className:"absolute w-1 h-1 bg-white/20 rounded-full",animate:{x:[0,200*Math.random()-100],y:[0,200*Math.random()-100],opacity:[0,1,0],scale:[0,1,0]},transition:{duration:4*Math.random()+3,repeat:1/0,delay:2*Math.random()},style:{left:"".concat(100*Math.random(),"%"),top:"".concat(100*Math.random(),"%")}},t))]}),(0,a.jsx)("div",{className:"absolute top-4 left-4 bg-gray-800/80 backdrop-blur-sm rounded-xl p-3 border border-gray-600",children:(0,a.jsxs)("div",{className:"text-sm text-gray-300",children:[(0,a.jsxs)("div",{className:"font-semibold text-white",children:[s.length," Traits"]}),(0,a.jsxs)("div",{children:[s.reduce((e,t)=>e+t.upvotes,0)," Total Upvotes"]})]})}),(0,a.jsx)("div",{className:"absolute bottom-4 right-4 bg-gray-800/80 backdrop-blur-sm rounded-xl p-3 border border-gray-600",children:(0,a.jsxs)("div",{className:"text-xs text-gray-400 space-y-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full"}),(0,a.jsx)("span",{children:"Mind"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-gradient-to-r from-pink-500 to-red-500 rounded-full"}),(0,a.jsx)("span",{children:"Heart"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full"}),(0,a.jsx)("span",{children:"Social"})]})]})})]}),(0,a.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,a.jsx)(d.j,{variant:"outline",children:"Share Cloud"}),(0,a.jsxs)(d.j,{children:[(0,a.jsx)(m,{className:"w-4 h-4"}),"Request Trait"]})]})]})}var g=s(781),f=s(961),b=s(538),y=s(8243),v=s(6119),j=s(5968);class w extends r.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,s=(0,v.R)(e)&&e.offsetWidth||0,a=this.props.sizeRef.current;a.height=t.offsetHeight||0,a.width=t.offsetWidth||0,a.top=t.offsetTop,a.left=t.offsetLeft,a.right=s-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function N({children:e,isPresent:t,anchorX:s,root:l}){let i=(0,r.useId)(),n=(0,r.useRef)(null),o=(0,r.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=(0,r.useContext)(j._);return(0,r.useInsertionEffect)(()=>{let{width:e,height:a,top:r,left:c,right:u}=o.current;if(t||!n.current||!e||!a)return;let m="left"===s?`left: ${c}`:`right: ${u}`;n.current.dataset.motionPopId=i;let h=document.createElement("style");d&&(h.nonce=d);let x=l??document.head;return x.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${a}px !important;
            ${m}px !important;
            top: ${r}px !important;
          }
        `),()=>{x.removeChild(h),x.contains(h)&&x.removeChild(h)}},[t]),(0,a.jsx)(w,{isPresent:t,childRef:n,sizeRef:o,children:r.cloneElement(e,{ref:n})})}let k=({children:e,initial:t,isPresent:s,onExitComplete:l,custom:i,presenceAffectsLayout:n,mode:o,anchorX:d,root:c})=>{let u=(0,f.h)(E),m=(0,r.useId)(),h=!0,x=(0,r.useMemo)(()=>(h=!1,{id:m,initial:t,isPresent:s,custom:i,onExitComplete:e=>{for(let t of(u.set(e,!0),u.values()))if(!t)return;l&&l()},register:e=>(u.set(e,!1),()=>u.delete(e))}),[s,u,l]);return n&&h&&(x={...x}),(0,r.useMemo)(()=>{u.forEach((e,t)=>u.set(t,!1))},[s]),r.useEffect(()=>{s||u.size||!l||l()},[s]),"popLayout"===o&&(e=(0,a.jsx)(N,{isPresent:s,anchorX:d,root:c,children:e})),(0,a.jsx)(y.O.Provider,{value:x,children:e})};function E(){return new Map}var C=s(7196);let M=e=>e.key||"";function T(e){let t=[];return r.Children.forEach(e,e=>{(0,r.isValidElement)(e)&&t.push(e)}),t}let _=({children:e,custom:t,initial:s=!0,onExitComplete:l,presenceAffectsLayout:i=!0,mode:n="sync",propagate:o=!1,anchorX:d="left",root:c})=>{let[u,m]=(0,C.oO)(o),h=(0,r.useMemo)(()=>T(e),[e]),x=o&&!u?[]:h.map(M),p=(0,r.useRef)(!0),y=(0,r.useRef)(h),v=(0,f.h)(()=>new Map),[j,w]=(0,r.useState)(h),[N,E]=(0,r.useState)(h);(0,b.L)(()=>{p.current=!1,y.current=h;for(let e=0;e<N.length;e++){let t=M(N[e]);x.includes(t)?v.delete(t):!0!==v.get(t)&&v.set(t,!1)}},[N,x.length,x.join("-")]);let _=[];if(h!==j){let e=[...h];for(let t=0;t<N.length;t++){let s=N[t],a=M(s);x.includes(a)||(e.splice(t,0,s),_.push(s))}return"wait"===n&&_.length&&(e=_),E(T(e)),w(h),null}let{forceRender:Z}=(0,r.useContext)(g.p);return(0,a.jsx)(a.Fragment,{children:N.map(e=>{let r=M(e),g=(!o||!!u)&&(h===N||x.includes(r));return(0,a.jsx)(k,{isPresent:g,initial:(!p.current||!!s)&&void 0,custom:t,presenceAffectsLayout:i,mode:n,root:c,onExitComplete:g?void 0:()=>{if(!v.has(r))return;v.set(r,!0);let e=!0;v.forEach(t=>{t||(e=!1)}),e&&(Z?.(),E(y.current),o&&m?.(),l&&l())},anchorX:d,children:e},r)})})};var Z=s(7810);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let I=(0,u.Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),S=(0,u.Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),A=(0,u.Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),U=[{id:1,sender:{username:"sarah_chen",full_name:"Sarah Chen",avatar_url:"https://images.pexels.com/photos/774909/pexels-photo-774909.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&fit=crop"},trait:{word:"Creative",category:"mind",color:"#8B5CF6"},message:"You always come up with the most innovative solutions!",created_at:"2025-01-09T10:30:00Z"},{id:2,sender:{username:"mike_j",full_name:"Mike Johnson",avatar_url:"https://images.pexels.com/photos/1040880/pexels-photo-1040880.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&fit=crop"},trait:{word:"Funny",category:"social",color:"#10B981"},message:"Your jokes always make my day better \uD83D\uDE04",created_at:"2025-01-09T09:15:00Z"},{id:3,sender:{username:"emma_r",full_name:"Emma Rodriguez",avatar_url:"https://images.pexels.com/photos/1239291/pexels-photo-1239291.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&fit=crop"},trait:{word:"Supportive",category:"heart",color:"#EF4444"},message:"You were there for me when I needed it most",created_at:"2025-01-09T08:45:00Z"}];function R(){let[e,t]=(0,r.useState)(U),[s,i]=(0,r.useState)(!1),n=async e=>{i(!0);try{await new Promise(e=>setTimeout(e,1e3)),t(t=>t.filter(t=>t.id!==e)),console.log("Endorsed approved:",e)}catch(e){console.error("Error approving endorsement:",e)}finally{i(!1)}},o=async e=>{i(!0);try{await new Promise(e=>setTimeout(e,1e3)),t(t=>t.filter(t=>t.id!==e)),console.log("Endorsement rejected:",e)}catch(e){console.error("Error rejecting endorsement:",e)}finally{i(!1)}},c=e=>{let t=new Date(e),s=new Date,a=Math.floor((s-t)/36e5);return a<1?"Just now":a<24?"".concat(a,"h ago"):"".concat(Math.floor(a/24),"d ago")},u=e=>{let t={mind:"from-blue-500 to-cyan-500",heart:"from-pink-500 to-red-500",social:"from-green-500 to-emerald-500",general:"from-purple-500 to-indigo-500"};return t[e]||t.general};return 0===e.length?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[(0,a.jsx)(l.E.div,{initial:{scale:0},animate:{scale:1},className:"w-24 h-24 bg-gradient-to-r from-purple-500/20 to-pink-500/20 rounded-full flex items-center justify-center mb-6 border-2 border-dashed border-purple-500/30",children:(0,a.jsx)(Z.Z,{className:"w-12 h-12 text-purple-400"})}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"All caught up!"}),(0,a.jsx)("p",{className:"text-gray-400 max-w-md",children:"No pending trait endorsements. When friends endorse you with new traits, they'll appear here for your approval."})]}):(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(_,{children:e.map((e,t)=>(0,a.jsx)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-100},transition:{delay:.1*t},className:"bg-gray-700/30 backdrop-blur-sm rounded-2xl p-6 border border-gray-600 hover:border-gray-500 transition-all duration-300",children:(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[(0,a.jsx)(l.E.div,{whileHover:{scale:1.05},className:"flex-shrink-0",children:(0,a.jsx)("img",{src:e.sender.avatar_url,alt:e.sender.full_name,className:"w-12 h-12 rounded-full object-cover border-2 border-gray-500"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("span",{className:"font-semibold text-white",children:e.sender.full_name}),(0,a.jsxs)("span",{className:"text-gray-400 text-sm",children:["@",e.sender.username]}),(0,a.jsx)("span",{className:"text-gray-500 text-sm",children:"•"}),(0,a.jsxs)("div",{className:"flex items-center gap-1 text-gray-500 text-sm",children:[(0,a.jsx)(I,{className:"w-3 h-3"}),c(e.created_at)]})]}),(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("span",{className:"text-gray-300",children:"thinks you are "}),(0,a.jsx)(l.E.span,{whileHover:{scale:1.05},className:"inline-flex items-center px-3 py-1 rounded-full text-white font-semibold bg-gradient-to-r ".concat(u(e.trait.category)," shadow-lg"),children:e.trait.word})]}),e.message&&(0,a.jsx)("div",{className:"bg-gray-600/30 rounded-xl p-3 mb-4 border-l-4 border-purple-500",children:(0,a.jsxs)("p",{className:"text-gray-300 italic",children:['"',e.message,'"']})}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)(d.j,{size:"sm",onClick:()=>n(e.id),disabled:s,className:"group",children:[(0,a.jsx)(S,{className:"w-4 h-4 group-hover:scale-110 transition-transform"}),"Approve"]}),(0,a.jsxs)(d.j,{variant:"outline",size:"sm",onClick:()=>o(e.id),disabled:s,className:"group hover:border-red-500 hover:text-red-400",children:[(0,a.jsx)(A,{className:"w-4 h-4 group-hover:scale-110 transition-transform"}),"Reject"]})]})]})]})},e.id))}),e.length>1&&(0,a.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center justify-center gap-4 pt-6 border-t border-gray-700",children:[(0,a.jsxs)(d.j,{variant:"outline",onClick:()=>{e.forEach(e=>n(e.id))},disabled:s,children:[(0,a.jsx)(S,{className:"w-4 h-4"}),"Approve All"]}),(0,a.jsxs)(d.j,{variant:"ghost",onClick:()=>{e.forEach(e=>o(e.id))},disabled:s,className:"hover:text-red-400",children:[(0,a.jsx)(A,{className:"w-4 h-4"}),"Reject All"]})]})]})}var P=s(2851);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let z=(0,u.Z)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),q=(0,u.Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);var L=s(7972);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let O=(0,u.Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var H=s(5750),Y=s(2369);function D(){let[e,t]=(0,r.useState)("cloud"),[s,c]=(0,r.useState)(!0),u=(0,i.useRouter)(),{user:h,profile:x,setUser:g,setProfile:f}=(0,n.tN)(),{traits:b,setTraits:y}=(0,n.k7)(),{notifications:v,unreadCount:j}=(0,n.rV)(),{stats:w,setStats:N}=(0,n.Qr)();(0,r.useEffect)(()=>{let e=async()=>{let{user:e}=await o.I8.getUser();if(!e){u.push("/auth");return}g(e),await k(e.id),c(!1)};e()},[]);let k=async e=>{try{let{data:t}=await o.wQ.getForUser(e);t&&y(t);let{data:s}=await o.N9.get(e);N({totalTraits:(null==t?void 0:t.length)||0,approvedTraits:(null==t?void 0:t.filter(e=>"approved"===e.status).length)||0,pendingTraits:(null==t?void 0:t.filter(e=>"pending"===e.status).length)||0,totalUpvotes:(null==t?void 0:t.reduce((e,t)=>e+t.upvotes,0))||0,traitsGiven:0})}catch(e){console.error("Error loading dashboard data:",e)}},E=async()=>{await o.I8.signOut(),g(null),f(null),u.push("/")};if(s)return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-purple-900 to-violet-900 flex items-center justify-center",children:(0,a.jsx)(l.E.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-12 h-12 border-4 border-purple-500 border-t-transparent rounded-full"})});let C=[{id:"cloud",label:"Trait Cloud",icon:P.Z},{id:"inbox",label:"Approval Inbox",icon:z,badge:j},{id:"stats",label:"Stats",icon:q},{id:"profile",label:"Profile",icon:L.Z}];return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-purple-900 to-violet-900",children:[(0,a.jsx)("header",{className:"bg-gray-800/50 backdrop-blur-sm border-b border-gray-700",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg flex items-center justify-center",children:(0,a.jsx)(P.Z,{className:"w-5 h-5 text-white"})}),(0,a.jsx)("span",{className:"text-xl font-bold text-white",children:"YouTraIT"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(z,{className:"w-6 h-6 text-gray-400 hover:text-white cursor-pointer transition-colors"}),j>0&&(0,a.jsx)("span",{className:"absolute -top-2 -right-2 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:j})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:(0,a.jsx)(L.Z,{className:"w-5 h-5 text-white"})}),(0,a.jsx)("span",{className:"text-white font-medium",children:null==h?void 0:h.email})]}),(0,a.jsxs)(d.j,{variant:"outline",size:"sm",onClick:E,children:[(0,a.jsx)(O,{className:"w-4 h-4"}),"Logout"]})]})]})})}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Welcome back! \uD83D\uDC4B"}),(0,a.jsx)("p",{className:"text-gray-300",children:"Your trait cloud is looking amazing. Here's what's happening:"})]}),(0,a.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,a.jsx)("div",{className:"bg-gray-800/50 backdrop-blur-sm rounded-2xl p-6 border border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg flex items-center justify-center",children:(0,a.jsx)(P.Z,{className:"w-5 h-5 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-white",children:w.totalTraits}),(0,a.jsx)("div",{className:"text-sm text-gray-400",children:"Total Traits"})]})]})}),(0,a.jsx)("div",{className:"bg-gray-800/50 backdrop-blur-sm rounded-2xl p-6 border border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-green-500 to-emerald-500 rounded-lg flex items-center justify-center",children:(0,a.jsx)(Z.Z,{className:"w-5 h-5 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-white",children:w.totalUpvotes}),(0,a.jsx)("div",{className:"text-sm text-gray-400",children:"Total Upvotes"})]})]})}),(0,a.jsx)("div",{className:"bg-gray-800/50 backdrop-blur-sm rounded-2xl p-6 border border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-lg flex items-center justify-center",children:(0,a.jsx)(H.Z,{className:"w-5 h-5 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-white",children:w.approvedTraits}),(0,a.jsx)("div",{className:"text-sm text-gray-400",children:"Approved"})]})]})}),(0,a.jsx)("div",{className:"bg-gray-800/50 backdrop-blur-sm rounded-2xl p-6 border border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-lg flex items-center justify-center",children:(0,a.jsx)(Y.Z,{className:"w-5 h-5 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-white",children:w.pendingTraits}),(0,a.jsx)("div",{className:"text-sm text-gray-400",children:"Pending"})]})]})})]}),(0,a.jsx)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-8",children:(0,a.jsx)("div",{className:"flex flex-wrap gap-2 bg-gray-800/50 backdrop-blur-sm rounded-2xl p-2 border border-gray-700",children:C.map(s=>(0,a.jsxs)("button",{onClick:()=>t(s.id),className:"flex items-center gap-2 px-4 py-2 rounded-xl font-medium transition-all duration-200 relative ".concat(e===s.id?"bg-gradient-to-r from-purple-500 to-pink-500 text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-gray-700/50"),children:[(0,a.jsx)(s.icon,{className:"w-4 h-4"}),s.label,s.badge&&s.badge>0&&(0,a.jsx)("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:s.badge})]},s.id))})}),(0,a.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-gray-800/30 backdrop-blur-sm rounded-2xl border border-gray-700 min-h-[500px]",children:["cloud"===e&&(0,a.jsxs)("div",{className:"p-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Your Trait Cloud"}),(0,a.jsxs)(d.j,{size:"sm",children:[(0,a.jsx)(m,{className:"w-4 h-4"}),"Add Trait"]})]}),(0,a.jsx)(p,{traits:b})]}),"inbox"===e&&(0,a.jsxs)("div",{className:"p-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Approval Inbox"}),(0,a.jsxs)("div",{className:"text-sm text-gray-400",children:[j," pending approvals"]})]}),(0,a.jsx)(R,{})]}),"stats"===e&&(0,a.jsxs)("div",{className:"p-8",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Your Stats"}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-8",children:[(0,a.jsxs)("div",{className:"bg-gray-700/30 rounded-xl p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Trait Categories"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-gray-300",children:"Mind"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-24 h-2 bg-gray-600 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"w-3/4 h-full bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full"})}),(0,a.jsx)("span",{className:"text-sm text-gray-400",children:"75%"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-gray-300",children:"Heart"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-24 h-2 bg-gray-600 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"w-4/5 h-full bg-gradient-to-r from-pink-500 to-red-500 rounded-full"})}),(0,a.jsx)("span",{className:"text-sm text-gray-400",children:"80%"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-gray-300",children:"Social"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-24 h-2 bg-gray-600 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"w-3/5 h-full bg-gradient-to-r from-green-500 to-emerald-500 rounded-full"})}),(0,a.jsx)("span",{className:"text-sm text-gray-400",children:"60%"})]})]})]})]}),(0,a.jsxs)("div",{className:"bg-gray-700/30 rounded-xl p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Recent Activity"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),(0,a.jsx)("span",{className:"text-gray-300 text-sm",children:'Sarah endorsed you as "Creative"'}),(0,a.jsx)("span",{className:"text-gray-500 text-xs ml-auto",children:"2h ago"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),(0,a.jsx)("span",{className:"text-gray-300 text-sm",children:'You approved "Funny" trait'}),(0,a.jsx)("span",{className:"text-gray-500 text-xs ml-auto",children:"4h ago"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),(0,a.jsx)("span",{className:"text-gray-300 text-sm",children:'"Kind" trait got 3 new upvotes'}),(0,a.jsx)("span",{className:"text-gray-500 text-xs ml-auto",children:"1d ago"})]})]})]})]})]}),"profile"===e&&(0,a.jsxs)("div",{className:"p-8",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Profile Settings"}),(0,a.jsx)("div",{className:"max-w-2xl",children:(0,a.jsxs)("div",{className:"bg-gray-700/30 rounded-xl p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,a.jsx)("div",{className:"w-20 h-20 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:(0,a.jsx)(L.Z,{className:"w-10 h-10 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-white",children:null==h?void 0:h.email}),(0,a.jsxs)("p",{className:"text-gray-400",children:["Member since ",new Date(null==h?void 0:h.created_at).toLocaleDateString()]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Bio"}),(0,a.jsx)("textarea",{className:"w-full px-4 py-3 bg-gray-600/50 border border-gray-500 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",rows:3,placeholder:"Tell the world about yourself..."})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Location"}),(0,a.jsx)("input",{type:"text",className:"w-full px-4 py-3 bg-gray-600/50 border border-gray-500 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"Your location"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Website"}),(0,a.jsx)("input",{type:"url",className:"w-full px-4 py-3 bg-gray-600/50 border border-gray-500 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"https://yourwebsite.com"})]})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)(d.j,{children:"Save Changes"})})]})]})})]})]},e)]})]})}},1069:function(e,t,s){"use strict";s.d(t,{j:function(){return i}});var a=s(7437),r=s(960),l=s(9311);function i(e){let{children:t,className:s,variant:i="primary",size:n="md",disabled:o=!1,loading:d=!1,onClick:c,...u}=e;return(0,a.jsx)(r.E.button,{whileHover:{scale:o?1:1.02},whileTap:{scale:o?1:.98},className:(0,l.cn)("relative rounded-xl font-semibold transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed","before:absolute before:inset-0 before:rounded-xl before:bg-gradient-to-r before:from-purple-500/20 before:to-pink-500/20 before:blur-xl before:transition-all before:duration-300","hover:before:from-purple-500/30 hover:before:to-pink-500/30",{primary:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white shadow-lg shadow-purple-500/25",secondary:"bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white shadow-lg shadow-cyan-500/25",outline:"border-2 border-purple-500 text-purple-400 hover:bg-purple-500/10 hover:text-purple-300",ghost:"text-purple-400 hover:bg-purple-500/10 hover:text-purple-300"}[i],{sm:"px-4 py-2 text-sm",md:"px-6 py-3 text-base",lg:"px-8 py-4 text-lg",xl:"px-10 py-5 text-xl"}[n],s),disabled:o||d,onClick:c,...u,children:(0,a.jsxs)("span",{className:"relative z-10 flex items-center justify-center gap-2",children:[d&&(0,a.jsx)(r.E.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full"}),t]})})}},8268:function(e,t,s){"use strict";s.d(t,{p:function(){return c}});var a=s(7437),r=s(960),l=s(9311),i=s(2851),n=s(5531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,n.Z)("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);var d=s(7810);function c(e){let{trait:t,size:s="md",interactive:n=!0,onClick:c,onUpvote:u,className:m}=e,h=()=>{let e=Math.min(2*t.upvotes,40);return 60+e},x=()=>{let e={mind:"from-blue-500 to-cyan-500",heart:"from-pink-500 to-red-500",social:"from-green-500 to-emerald-500",general:"from-purple-500 to-indigo-500"};return e[t.category]||e.general};return(0,a.jsxs)(r.E.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},whileHover:n?{scale:1.1,rotate:[0,-5,5,0],transition:{duration:.3}}:{},whileTap:n?{scale:.95}:{},className:(0,l.cn)("relative group cursor-pointer",m),style:{width:"".concat(h(),"px"),height:"".concat(h(),"px")},onClick:c,children:[(0,a.jsx)("div",{className:(0,l.cn)("absolute inset-0 rounded-full bg-gradient-to-r opacity-20 blur-lg transition-all duration-300","group-hover:opacity-40 group-hover:blur-xl",x())}),(0,a.jsxs)("div",{className:(0,l.cn)("relative w-full h-full rounded-full bg-gradient-to-r flex items-center justify-center","border border-white/20 backdrop-blur-sm","shadow-lg shadow-black/20",x()),children:[(0,a.jsx)("span",{className:"text-white font-semibold text-center px-2 leading-tight",children:t.word}),t.upvotes>0&&(0,a.jsx)(r.E.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-2 -right-2 bg-white/90 text-gray-800 rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold shadow-lg",children:t.upvotes}),t.upvotes>10&&(0,a.jsx)(r.E.div,{animate:{rotate:360,scale:[1,1.2,1]},transition:{duration:3,repeat:1/0,ease:"linear"},className:"absolute -top-1 -left-1",children:(0,a.jsx)(i.Z,{className:"w-4 h-4 text-yellow-300"})})]}),n&&(0,a.jsxs)(r.E.div,{initial:{opacity:0,y:10},whileHover:{opacity:1,y:0},className:"absolute -bottom-8 left-1/2 transform -translate-x-1/2 flex gap-1",children:[(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),null==u||u(t.id)},className:"bg-white/90 hover:bg-white text-gray-800 rounded-full p-1.5 shadow-lg transition-all duration-200 hover:scale-110",children:(0,a.jsx)(o,{className:"w-3 h-3"})}),(0,a.jsx)("button",{onClick:e=>{e.stopPropagation()},className:"bg-white/90 hover:bg-white text-gray-800 rounded-full p-1.5 shadow-lg transition-all duration-200 hover:scale-110",children:(0,a.jsx)(d.Z,{className:"w-3 h-3"})})]})]})}},4045:function(e,t,s){"use strict";s.d(t,{Qr:function(){return o},k7:function(){return i},rV:function(){return n},tN:function(){return l}});var a=s(9115),r=s(4810);let l=(0,a.U)((e,t)=>({user:null,profile:null,loading:!0,setUser:t=>e({user:t}),setProfile:t=>e({profile:t}),setLoading:t=>e({loading:t}),logout:()=>e({user:null,profile:null,loading:!1})})),i=(0,a.U)((0,r.XR)((e,t)=>({traits:[],loading:!1,error:null,setTraits:t=>e({traits:t}),setLoading:t=>e({loading:t}),setError:t=>e({error:t}),addTrait:t=>e(e=>({traits:[...e.traits,t]})),updateTrait:(t,s)=>e(e=>({traits:e.traits.map(e=>e.id===t?{...e,...s}:e)})),removeTrait:t=>e(e=>({traits:e.traits.filter(e=>e.id!==t)})),upvoteTrait:t=>e(e=>({traits:e.traits.map(e=>e.id===t?{...e,upvotes:e.upvotes+1}:e)}))}))),n=(0,a.U)((e,t)=>({notifications:[],unreadCount:0,loading:!1,setNotifications:t=>{let s=t.filter(e=>!e.read).length;e({notifications:t,unreadCount:s})},addNotification:t=>e(e=>({notifications:[t,...e.notifications],unreadCount:e.unreadCount+(t.read?0:1)})),markAsRead:t=>e(e=>({notifications:e.notifications.map(e=>e.id===t?{...e,read:!0}:e),unreadCount:Math.max(0,e.unreadCount-1)})),markAllAsRead:()=>e(e=>({notifications:e.notifications.map(e=>({...e,read:!0})),unreadCount:0})),setLoading:t=>e({loading:t})}));(0,a.U)((e,t)=>({pendingEndorsements:[],loading:!1,setPendingEndorsements:t=>e({pendingEndorsements:t}),setLoading:t=>e({loading:t}),addEndorsement:t=>e(e=>({pendingEndorsements:[t,...e.pendingEndorsements]})),removeEndorsement:t=>e(e=>({pendingEndorsements:e.pendingEndorsements.filter(e=>e.id!==t)})),updateEndorsementStatus:(t,s)=>e(e=>({pendingEndorsements:e.pendingEndorsements.filter(e=>e.id!==t)}))})),(0,a.U)((e,t)=>({besties:[],pendingRequests:[],loading:!1,setBesties:t=>e({besties:t}),setPendingRequests:t=>e({pendingRequests:t}),setLoading:t=>e({loading:t}),addBestie:t=>e(e=>({besties:[...e.besties,t]})),removeBestie:t=>e(e=>({besties:e.besties.filter(e=>e.id!==t)}))})),(0,a.U)((e,t)=>({sidebarOpen:!1,currentModal:null,theme:"dark",setSidebarOpen:t=>e({sidebarOpen:t}),setCurrentModal:t=>e({currentModal:t}),setTheme:t=>e({theme:t}),toggleSidebar:()=>e(e=>({sidebarOpen:!e.sidebarOpen})),closeModal:()=>e({currentModal:null})}));let o=(0,a.U)((e,t)=>({stats:{totalTraits:0,approvedTraits:0,pendingTraits:0,totalUpvotes:0,traitsGiven:0},loading:!1,setStats:t=>e({stats:t}),setLoading:t=>e({loading:t}),updateStat:(t,s)=>e(e=>({stats:{...e.stats,[t]:s}}))}))},966:function(e,t,s){"use strict";s.d(t,{I8:function(){return n},N9:function(){return d},wQ:function(){return o}});var a=s(1492);let r="https://pawzwkbcgqcheasiuckv.supabase.co",l="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBhd3p3a2JjZ3FjaGVhc2l1Y2t2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTIwNzUwNzQsImV4cCI6MjA2NzY1MTA3NH0.10I0aCzc5kosBhtPbvWnhN0E6qr4hVCr5IflZLZH-D0";if(!r||!l)throw Error("Missing Supabase environment variables");let i=(0,a.eI)(r,l),n={signUp:async function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{data:a,error:r}=await i.auth.signUp({email:e,password:t,options:{data:s}});return{data:a,error:r}},signIn:async(e,t)=>{let{data:s,error:a}=await i.auth.signInWithPassword({email:e,password:t});return{data:s,error:a}},signOut:async()=>{let{error:e}=await i.auth.signOut();return{error:e}},getUser:async()=>{let{data:{user:e},error:t}=await i.auth.getUser();return{user:e,error:t}},onAuthStateChange:e=>i.auth.onAuthStateChange(e)},o={getForUser:async e=>{let{data:t,error:s}=await i.from("traits").select("\n        *,\n        created_by_profile:profiles!traits_created_by_fkey(username, full_name, avatar_url),\n        reactions:trait_reactions(emoji, user_id)\n      ").eq("target_user",e).eq("status","approved").order("upvotes",{ascending:!1});return{data:t,error:s}},create:async e=>{let{data:t,error:s}=await i.from("traits").insert(e).select().single();return{data:t,error:s}},updateStatus:async(e,t)=>{let{data:s,error:a}=await i.from("traits").update({status:t,approved_at:"approved"===t?new Date().toISOString():null}).eq("id",e).select().single();return{data:s,error:a}},upvote:async e=>{let{data:t,error:s}=await i.rpc("increment_trait_upvotes",{trait_id:e});return{data:t,error:s}}},d={get:async e=>{let{data:t,error:s}=await i.from("notifications").select("*").eq("user_id",e).order("created_at",{ascending:!1}).limit(50);return{data:t,error:s}},markAsRead:async e=>{let{data:t,error:s}=await i.from("notifications").update({read:!0}).eq("id",e);return{data:t,error:s}},markAllAsRead:async e=>{let{data:t,error:s}=await i.from("notifications").update({read:!0}).eq("user_id",e).eq("read",!1);return{data:t,error:s}}}},9311:function(e,t,s){"use strict";s.d(t,{cn:function(){return l}});var a=s(7042),r=s(4769);function l(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.m6)((0,a.W)(t))}}},function(e){e.O(0,[916,602,971,864,744],function(){return e(e.s=5664)}),_N_E=e.O()}]);