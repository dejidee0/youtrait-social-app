(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[235],{7639:function(e,t,r){Promise.resolve().then(r.bind(r,1787))},1787:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return x}});var a=r(7437),n=r(2265),s=r(960),i=r(4033),o=r(1069),l=r(966),d=r(4045),u=r(3067),c=r(2851),p=r(7972),m=r(1295),g=r(5589),f=r(1396),h=r.n(f);function x(){let[e,t]=(0,n.useState)("signin"),[r,f]=(0,n.useState)({email:"",password:"",confirmPassword:"",fullName:""}),[x,y]=(0,n.useState)(!1),[b,v]=(0,n.useState)(""),[w,N]=(0,n.useState)(""),j=(0,i.useRouter)(),{user:E,setUser:k}=(0,d.tN)();(0,n.useEffect)(()=>{E&&j.push("/dashboard")},[E,j]);let C=async t=>{t.preventDefault(),y(!0),v(""),N("");try{if("signup"===e){if(r.password!==r.confirmPassword)throw Error("Passwords do not match");let{data:e,error:t}=await l.I8.signUp(r.email,r.password,{full_name:r.fullName});if(t)throw t;N("Check your email for the confirmation link!")}else if("signin"===e){let{data:e,error:t}=await l.I8.signIn(r.email,r.password);if(t)throw t;k(e.user),j.push("/dashboard")}}catch(e){v(e.message)}finally{y(!1)}},I=e=>{f(t=>({...t,[e.target.name]:e.target.value}))};return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-purple-900 to-violet-900 flex items-center justify-center p-4",children:[(0,a.jsxs)("div",{className:"absolute inset-0",children:[(0,a.jsx)("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-purple-500/20 rounded-full blur-3xl animate-pulse"}),(0,a.jsx)("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-pink-500/20 rounded-full blur-3xl animate-pulse delay-1000"})]}),(0,a.jsxs)("div",{className:"relative z-10 w-full max-w-md",children:[(0,a.jsx)(s.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:(0,a.jsxs)(h(),{href:"/",className:"flex items-center gap-2 text-purple-400 hover:text-purple-300 transition-colors",children:[(0,a.jsx)(u.Z,{className:"w-4 h-4"}),"Back to Home"]})}),(0,a.jsxs)(s.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-800/50 backdrop-blur-sm rounded-2xl p-8 border border-gray-700",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)(s.E.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2},className:"w-16 h-16 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(c.Z,{className:"w-8 h-8 text-white"})}),(0,a.jsxs)("h1",{className:"text-2xl font-bold text-white mb-2",children:["signin"===e&&"Welcome Back","signup"===e&&"Join YouTraIT","forgot"===e&&"Reset Password"]}),(0,a.jsxs)("p",{className:"text-gray-400",children:["signin"===e&&"Sign in to your trait cloud","signup"===e&&"Start building your personality cloud","forgot"===e&&"Enter your email to reset your password"]})]}),(0,a.jsxs)("form",{onSubmit:C,className:"space-y-6",children:["signup"===e&&(0,a.jsxs)(s.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Full Name"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(p.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,a.jsx)("input",{type:"text",name:"fullName",value:r.fullName,onChange:I,className:"w-full pl-10 pr-4 py-3 bg-gray-700/50 border border-gray-600 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"Enter your full name",required:!0})]})]}),(0,a.jsxs)(s.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4},children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(m.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,a.jsx)("input",{type:"email",name:"email",value:r.email,onChange:I,className:"w-full pl-10 pr-4 py-3 bg-gray-700/50 border border-gray-600 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"Enter your email",required:!0})]})]}),"forgot"!==e&&(0,a.jsxs)(s.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5},children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(g.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,a.jsx)("input",{type:"password",name:"password",value:r.password,onChange:I,className:"w-full pl-10 pr-4 py-3 bg-gray-700/50 border border-gray-600 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"Enter your password",required:!0})]})]}),"signup"===e&&(0,a.jsxs)(s.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.6},children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Confirm Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(g.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,a.jsx)("input",{type:"password",name:"confirmPassword",value:r.confirmPassword,onChange:I,className:"w-full pl-10 pr-4 py-3 bg-gray-700/50 border border-gray-600 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"Confirm your password",required:!0})]})]}),b&&(0,a.jsx)(s.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-500/20 border border-red-500/50 rounded-xl p-3 text-red-300 text-sm",children:b}),w&&(0,a.jsx)(s.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-green-500/20 border border-green-500/50 rounded-xl p-3 text-green-300 text-sm",children:w}),(0,a.jsx)(s.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},children:(0,a.jsxs)(o.j,{type:"submit",className:"w-full",loading:x,disabled:x,children:["signin"===e&&"Sign In","signup"===e&&"Create Account","forgot"===e&&"Send Reset Link"]})})]}),(0,a.jsxs)(s.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"mt-6 text-center space-y-2",children:["signin"===e&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("p",{className:"text-gray-400",children:["Don't have an account?"," ",(0,a.jsx)("button",{onClick:()=>t("signup"),className:"text-purple-400 hover:text-purple-300 transition-colors",children:"Sign up"})]}),(0,a.jsx)("button",{onClick:()=>t("forgot"),className:"text-sm text-gray-500 hover:text-gray-400 transition-colors",children:"Forgot your password?"})]}),"signup"===e&&(0,a.jsxs)("p",{className:"text-gray-400",children:["Already have an account?"," ",(0,a.jsx)("button",{onClick:()=>t("signin"),className:"text-purple-400 hover:text-purple-300 transition-colors",children:"Sign in"})]}),"forgot"===e&&(0,a.jsxs)("p",{className:"text-gray-400",children:["Remember your password?"," ",(0,a.jsx)("button",{onClick:()=>t("signin"),className:"text-purple-400 hover:text-purple-300 transition-colors",children:"Sign in"})]})]})]})]})]})}},1069:function(e,t,r){"use strict";r.d(t,{j:function(){return i}});var a=r(7437),n=r(960),s=r(9311);function i(e){let{children:t,className:r,variant:i="primary",size:o="md",disabled:l=!1,loading:d=!1,onClick:u,...c}=e;return(0,a.jsx)(n.E.button,{whileHover:{scale:l?1:1.02},whileTap:{scale:l?1:.98},className:(0,s.cn)("relative rounded-xl font-semibold transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed","before:absolute before:inset-0 before:rounded-xl before:bg-gradient-to-r before:from-purple-500/20 before:to-pink-500/20 before:blur-xl before:transition-all before:duration-300","hover:before:from-purple-500/30 hover:before:to-pink-500/30",{primary:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white shadow-lg shadow-purple-500/25",secondary:"bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white shadow-lg shadow-cyan-500/25",outline:"border-2 border-purple-500 text-purple-400 hover:bg-purple-500/10 hover:text-purple-300",ghost:"text-purple-400 hover:bg-purple-500/10 hover:text-purple-300"}[i],{sm:"px-4 py-2 text-sm",md:"px-6 py-3 text-base",lg:"px-8 py-4 text-lg",xl:"px-10 py-5 text-xl"}[o],r),disabled:l||d,onClick:u,...c,children:(0,a.jsxs)("span",{className:"relative z-10 flex items-center justify-center gap-2",children:[d&&(0,a.jsx)(n.E.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full"}),t]})})}},4045:function(e,t,r){"use strict";r.d(t,{Qr:function(){return l},k7:function(){return i},rV:function(){return o},tN:function(){return s}});var a=r(9115),n=r(4810);let s=(0,a.U)((e,t)=>({user:null,profile:null,loading:!0,setUser:t=>e({user:t}),setProfile:t=>e({profile:t}),setLoading:t=>e({loading:t}),logout:()=>e({user:null,profile:null,loading:!1})})),i=(0,a.U)((0,n.XR)((e,t)=>({traits:[],loading:!1,error:null,setTraits:t=>e({traits:t}),setLoading:t=>e({loading:t}),setError:t=>e({error:t}),addTrait:t=>e(e=>({traits:[...e.traits,t]})),updateTrait:(t,r)=>e(e=>({traits:e.traits.map(e=>e.id===t?{...e,...r}:e)})),removeTrait:t=>e(e=>({traits:e.traits.filter(e=>e.id!==t)})),upvoteTrait:t=>e(e=>({traits:e.traits.map(e=>e.id===t?{...e,upvotes:e.upvotes+1}:e)}))}))),o=(0,a.U)((e,t)=>({notifications:[],unreadCount:0,loading:!1,setNotifications:t=>{let r=t.filter(e=>!e.read).length;e({notifications:t,unreadCount:r})},addNotification:t=>e(e=>({notifications:[t,...e.notifications],unreadCount:e.unreadCount+(t.read?0:1)})),markAsRead:t=>e(e=>({notifications:e.notifications.map(e=>e.id===t?{...e,read:!0}:e),unreadCount:Math.max(0,e.unreadCount-1)})),markAllAsRead:()=>e(e=>({notifications:e.notifications.map(e=>({...e,read:!0})),unreadCount:0})),setLoading:t=>e({loading:t})}));(0,a.U)((e,t)=>({pendingEndorsements:[],loading:!1,setPendingEndorsements:t=>e({pendingEndorsements:t}),setLoading:t=>e({loading:t}),addEndorsement:t=>e(e=>({pendingEndorsements:[t,...e.pendingEndorsements]})),removeEndorsement:t=>e(e=>({pendingEndorsements:e.pendingEndorsements.filter(e=>e.id!==t)})),updateEndorsementStatus:(t,r)=>e(e=>({pendingEndorsements:e.pendingEndorsements.filter(e=>e.id!==t)}))})),(0,a.U)((e,t)=>({besties:[],pendingRequests:[],loading:!1,setBesties:t=>e({besties:t}),setPendingRequests:t=>e({pendingRequests:t}),setLoading:t=>e({loading:t}),addBestie:t=>e(e=>({besties:[...e.besties,t]})),removeBestie:t=>e(e=>({besties:e.besties.filter(e=>e.id!==t)}))})),(0,a.U)((e,t)=>({sidebarOpen:!1,currentModal:null,theme:"dark",setSidebarOpen:t=>e({sidebarOpen:t}),setCurrentModal:t=>e({currentModal:t}),setTheme:t=>e({theme:t}),toggleSidebar:()=>e(e=>({sidebarOpen:!e.sidebarOpen})),closeModal:()=>e({currentModal:null})}));let l=(0,a.U)((e,t)=>({stats:{totalTraits:0,approvedTraits:0,pendingTraits:0,totalUpvotes:0,traitsGiven:0},loading:!1,setStats:t=>e({stats:t}),setLoading:t=>e({loading:t}),updateStat:(t,r)=>e(e=>({stats:{...e.stats,[t]:r}}))}))},966:function(e,t,r){"use strict";r.d(t,{I8:function(){return o},N9:function(){return d},wQ:function(){return l}});var a=r(1492);let n="https://pawzwkbcgqcheasiuckv.supabase.co",s="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBhd3p3a2JjZ3FjaGVhc2l1Y2t2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTIwNzUwNzQsImV4cCI6MjA2NzY1MTA3NH0.10I0aCzc5kosBhtPbvWnhN0E6qr4hVCr5IflZLZH-D0";if(!n||!s)throw Error("Missing Supabase environment variables");let i=(0,a.eI)(n,s),o={signUp:async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{data:a,error:n}=await i.auth.signUp({email:e,password:t,options:{data:r}});return{data:a,error:n}},signIn:async(e,t)=>{let{data:r,error:a}=await i.auth.signInWithPassword({email:e,password:t});return{data:r,error:a}},signOut:async()=>{let{error:e}=await i.auth.signOut();return{error:e}},getUser:async()=>{let{data:{user:e},error:t}=await i.auth.getUser();return{user:e,error:t}},onAuthStateChange:e=>i.auth.onAuthStateChange(e)},l={getForUser:async e=>{let{data:t,error:r}=await i.from("traits").select("\n        *,\n        created_by_profile:profiles!traits_created_by_fkey(username, full_name, avatar_url),\n        reactions:trait_reactions(emoji, user_id)\n      ").eq("target_user",e).eq("status","approved").order("upvotes",{ascending:!1});return{data:t,error:r}},create:async e=>{let{data:t,error:r}=await i.from("traits").insert(e).select().single();return{data:t,error:r}},updateStatus:async(e,t)=>{let{data:r,error:a}=await i.from("traits").update({status:t,approved_at:"approved"===t?new Date().toISOString():null}).eq("id",e).select().single();return{data:r,error:a}},upvote:async e=>{let{data:t,error:r}=await i.rpc("increment_trait_upvotes",{trait_id:e});return{data:t,error:r}}},d={get:async e=>{let{data:t,error:r}=await i.from("notifications").select("*").eq("user_id",e).order("created_at",{ascending:!1}).limit(50);return{data:t,error:r}},markAsRead:async e=>{let{data:t,error:r}=await i.from("notifications").update({read:!0}).eq("id",e);return{data:t,error:r}},markAllAsRead:async e=>{let{data:t,error:r}=await i.from("notifications").update({read:!0}).eq("user_id",e).eq("read",!1);return{data:t,error:r}}}},9311:function(e,t,r){"use strict";r.d(t,{cn:function(){return s}});var a=r(7042),n=r(4769);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,a.W)(t))}}},function(e){e.O(0,[916,602,715,971,864,744],function(){return e(e.s=7639)}),_N_E=e.O()}]);