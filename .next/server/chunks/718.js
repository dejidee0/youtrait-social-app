exports.id=718,exports.ids=[718],exports.modules={2213:e=>{function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=2213,e.exports=t},8234:(e,t,a)=>{"use strict";a.d(t,{Qr:()=>d,k7:()=>r,rV:()=>o,tN:()=>n});var s=a(8944),i=a(8228);let n=(0,s.U)((e,t)=>({user:null,profile:null,loading:!0,setUser:t=>e({user:t}),setProfile:t=>e({profile:t}),setLoading:t=>e({loading:t}),logout:()=>e({user:null,profile:null,loading:!1})})),r=(0,s.U)((0,i.XR)((e,t)=>({traits:[],loading:!1,error:null,setTraits:t=>e({traits:t}),setLoading:t=>e({loading:t}),setError:t=>e({error:t}),addTrait:t=>e(e=>({traits:[...e.traits,t]})),updateTrait:(t,a)=>e(e=>({traits:e.traits.map(e=>e.id===t?{...e,...a}:e)})),removeTrait:t=>e(e=>({traits:e.traits.filter(e=>e.id!==t)})),upvoteTrait:t=>e(e=>({traits:e.traits.map(e=>e.id===t?{...e,upvotes:e.upvotes+1}:e)}))}))),o=(0,s.U)((e,t)=>({notifications:[],unreadCount:0,loading:!1,setNotifications:t=>{let a=t.filter(e=>!e.read).length;e({notifications:t,unreadCount:a})},addNotification:t=>e(e=>({notifications:[t,...e.notifications],unreadCount:e.unreadCount+(t.read?0:1)})),markAsRead:t=>e(e=>({notifications:e.notifications.map(e=>e.id===t?{...e,read:!0}:e),unreadCount:Math.max(0,e.unreadCount-1)})),markAllAsRead:()=>e(e=>({notifications:e.notifications.map(e=>({...e,read:!0})),unreadCount:0})),setLoading:t=>e({loading:t})}));(0,s.U)((e,t)=>({pendingEndorsements:[],loading:!1,setPendingEndorsements:t=>e({pendingEndorsements:t}),setLoading:t=>e({loading:t}),addEndorsement:t=>e(e=>({pendingEndorsements:[t,...e.pendingEndorsements]})),removeEndorsement:t=>e(e=>({pendingEndorsements:e.pendingEndorsements.filter(e=>e.id!==t)})),updateEndorsementStatus:(t,a)=>e(e=>({pendingEndorsements:e.pendingEndorsements.filter(e=>e.id!==t)}))})),(0,s.U)((e,t)=>({besties:[],pendingRequests:[],loading:!1,setBesties:t=>e({besties:t}),setPendingRequests:t=>e({pendingRequests:t}),setLoading:t=>e({loading:t}),addBestie:t=>e(e=>({besties:[...e.besties,t]})),removeBestie:t=>e(e=>({besties:e.besties.filter(e=>e.id!==t)}))})),(0,s.U)((e,t)=>({sidebarOpen:!1,currentModal:null,theme:"dark",setSidebarOpen:t=>e({sidebarOpen:t}),setCurrentModal:t=>e({currentModal:t}),setTheme:t=>e({theme:t}),toggleSidebar:()=>e(e=>({sidebarOpen:!e.sidebarOpen})),closeModal:()=>e({currentModal:null})}));let d=(0,s.U)((e,t)=>({stats:{totalTraits:0,approvedTraits:0,pendingTraits:0,totalUpvotes:0,traitsGiven:0},loading:!1,setStats:t=>e({stats:t}),setLoading:t=>e({loading:t}),updateStat:(t,a)=>e(e=>({stats:{...e.stats,[t]:a}}))}))},6757:(e,t,a)=>{"use strict";a.d(t,{I8:()=>o,N9:()=>l,wQ:()=>d});var s=a(2730);let i="https://pawzwkbcgqcheasiuckv.supabase.co",n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBhd3p3a2JjZ3FjaGVhc2l1Y2t2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTIwNzUwNzQsImV4cCI6MjA2NzY1MTA3NH0.10I0aCzc5kosBhtPbvWnhN0E6qr4hVCr5IflZLZH-D0";if(!i||!n)throw Error("Missing Supabase environment variables");let r=(0,s.createClient)(i,n),o={signUp:async(e,t,a={})=>{let{data:s,error:i}=await r.auth.signUp({email:e,password:t,options:{data:a}});return{data:s,error:i}},signIn:async(e,t)=>{let{data:a,error:s}=await r.auth.signInWithPassword({email:e,password:t});return{data:a,error:s}},signOut:async()=>{let{error:e}=await r.auth.signOut();return{error:e}},getUser:async()=>{let{data:{user:e},error:t}=await r.auth.getUser();return{user:e,error:t}},onAuthStateChange:e=>r.auth.onAuthStateChange(e)},d={getForUser:async e=>{let{data:t,error:a}=await r.from("traits").select(`
        *,
        created_by_profile:profiles!traits_created_by_fkey(username, full_name, avatar_url),
        reactions:trait_reactions(emoji, user_id)
      `).eq("target_user",e).eq("status","approved").order("upvotes",{ascending:!1});return{data:t,error:a}},create:async e=>{let{data:t,error:a}=await r.from("traits").insert(e).select().single();return{data:t,error:a}},updateStatus:async(e,t)=>{let{data:a,error:s}=await r.from("traits").update({status:t,approved_at:"approved"===t?new Date().toISOString():null}).eq("id",e).select().single();return{data:a,error:s}},upvote:async e=>{let{data:t,error:a}=await r.rpc("increment_trait_upvotes",{trait_id:e});return{data:t,error:a}}},l={get:async e=>{let{data:t,error:a}=await r.from("notifications").select("*").eq("user_id",e).order("created_at",{ascending:!1}).limit(50);return{data:t,error:a}},markAsRead:async e=>{let{data:t,error:a}=await r.from("notifications").update({read:!0}).eq("id",e);return{data:t,error:a}},markAllAsRead:async e=>{let{data:t,error:a}=await r.from("notifications").update({read:!0}).eq("user_id",e).eq("read",!1);return{data:t,error:a}}}}};